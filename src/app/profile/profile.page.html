<ion-content [fullscreen]="true" class="bg-gray-100">
  <!-- Header -->
  <ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title class="text-center font-bold">Mon Profil</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="welcome-row flex items-center">
    <!-- Retour Button -->
    <ion-button fill="clear" size="small" (click)="goBack()">
      <ion-icon
        slot="icon-only"
        name="arrow-back-outline"
        style="color: #fae12f"
      ></ion-icon>
    </ion-button>

    <!-- Welcome Text -->
    <div class="welcome-text">
      <strong>MON PROFILE</strong>
    </div>

    <!-- Logo -->
    <img
      src="../../assets/logo-tresorpay.png"
      alt="Logo TresorPay"
      class="welcome-logo ml-2"
    />
  </div>

  <!-- Profile Section -->
  <div class="flex flex-col items-center px-6 py-6 space-y-4">
    <!-- Profile Avatar -->
    <div class="relative">
      <img
        src="../../assets/icons/user.jpeg"
        alt="Avatar"
        class="w-28 h-28 rounded-full border-4 border-white shadow-lg object-cover"
      />
      <ion-button
        fill="clear"
        size="small"
        class="absolute bottom-0 right-0 p-0 m-0 rounded-full bg-primary"
      >
        <ion-icon
          name="camera-outline"
          slot="icon-only"
          class="text-white text-xl"
        ></ion-icon>
      </ion-button>
    </div>

    <!-- Name & Info -->
    <div class="text-center">
      <h2 class="text-xl font-semibold text-blue-900">
        {{ user.prenom }} {{ user.nom }}
      </h2>
      <p class="text-gray-500" style="font-size: 0.7rem">
        {{ user.email }}
        <ion-icon name="pencil-outline" style="font-size: 1.2rem"></ion-icon>
      </p>
    </div>

    <!-- Form Card -->
    <ion-card class="w-full rounded-2xl shadow-xl">
      <ion-card-content class="space-y-5">
        <!-- Name -->
        <div>
          <ion-label class="block text-sm text-gray-700 mb-1">Nom</ion-label>
          <ion-input
            type="text"
            [(ngModel)]="user.nom"
            class="rounded-md border border-gray-300 px-3 py-2 bg-white"
            placeholder="Entrez votre nom"
          ></ion-input>
        </div>

        <!-- Surname -->
        <div>
          <ion-label class="block text-sm text-gray-700 mb-1">Prénom</ion-label>
          <ion-input
            type="text"
            [(ngModel)]="user.prenom"
            class="rounded-md border border-gray-300 px-3 py-2 bg-white"
            placeholder="Entrez votre prénom"
          ></ion-input>
        </div>

        <!-- New Password -->
        <div>
          <ion-label class="block text-sm text-gray-700 mb-1"
            >Nouveau mot de passe</ion-label
          >
          <ion-input
            type="password"
            [(ngModel)]="user.newPassword"
            class="rounded-md border border-gray-300 px-3 py-2 bg-white"
            placeholder="••••••••"
          ></ion-input>
        </div>

        <!-- Confirm Password -->
        <div>
          <ion-label class="block text-sm text-gray-700 mb-1"
            >Confirmer le mot de passe</ion-label
          >
          <ion-input
            type="password"
            [(ngModel)]="user.confirmPassword"
            class="rounded-md border border-gray-300 px-3 py-2 bg-white"
            placeholder="••••••••"
          ></ion-input>
        </div>

        <!-- Save Button -->
        <div class="flex justify-center">
          <ion-button
            expand="block"
            shape="round"
            color="primary"
            class="mt-4 w-40"
            (click)="updateProfile()"
          >
            Enregistrer
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
